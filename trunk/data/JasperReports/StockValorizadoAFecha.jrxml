<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="CobranzaPorPeriodo"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Landscape"
		 pageWidth="842"
		 pageHeight="595"
		 columnWidth="782"
		 columnSpacing="0"
		 leftMargin="30"
		 rightMargin="30"
		 topMargin="20"
		 bottomMargin="20"
		 whenNoDataType="NoPages"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="AD_Org_ID" isForPrompting="false" class="java.math.BigDecimal"/>
	<parameter name="FechaCorte" isForPrompting="false" class="java.util.Date">
		<defaultValueExpression ><![CDATA[(Calendar.getInstance().getTime())]]></defaultValueExpression>
	</parameter>
	<parameter name="AD_CLIENT_ID" isForPrompting="false" class="java.lang.Integer"/>
	<parameter name="M_Product_Lines_ID" isForPrompting="false" class="java.math.BigDecimal"/>
	<parameter name="M_Product_Gamas_ID" isForPrompting="false" class="java.math.BigDecimal"/>
	<parameter name="M_Product_Category_ID" isForPrompting="false" class="java.math.BigDecimal"/>
	<parameter name="M_Product_Family_ID" isForPrompting="false" class="java.math.BigDecimal"/>
	<parameter name="M_Product_ID" isForPrompting="false" class="java.math.BigDecimal"/>
	<parameter name="C_BPartner_ID" isForPrompting="false" class="java.math.BigDecimal"/>
	<parameter name="TipoDeCosto" isForPrompting="false" class="java.lang.String"/>
	<queryString><![CDATA[SELECT DISTINCT Compañia, Organizacion, Clave_de_Busqueda_del_Articulo, Linea_de_Producto, Familia, Subfamlia, MARCA, Nombre_Articulo, Fecha::date, Stock, StockDisponibleActual, Costo_FIFO, Costo_LIFO, Costo_PP::numeric(22,4), (Stock * Costo_FIFO)::numeric(22,4) AS Costo_FIFO_Total, (Stock * Costo_LIFO)::numeric(22,4) AS Costo_LIFO_Total, (Stock * Costo_PP)::numeric(22,4) AS Costo_PP_Total, Proveedor, IVA 
FROM
(
SELECT DISTINCT
a.value AS Compañia, 
o.value AS Organizacion, 
p.value AS Clave_de_Busqueda_del_Articulo, 
pl.value AS Linea_de_Producto, pg.value AS Familia, 
pc.value AS Subfamlia, 
pf.value AS MARCA, 
p.name AS Nombre_Articulo,
$P{FechaCorte}::date AS Fecha,
COALESCE((SELECT (SELECT SUM(QtyOnHand) FROM M_Storage s WHERE (p.M_Product_ID=s.M_Product_ID) AND (s.M_Locator_ID IN (SELECT loc.M_Locator_ID FROM M_Locator loc INNER JOIN M_Warehouse wa ON (loc.M_Warehouse_ID = wa.M_Warehouse_ID) WHERE (wa.OwnStock = 'N') AND (wa.StockAvailableForSale = 'Y')))) - (CASE WHEN SUM(t.MovementQty) IS NULL THEN 0 ELSE SUM(t.MovementQty) END) FROM M_Transaction t, M_Locator l WHERE (t.M_Product_ID=p.M_Product_ID) /* FECHA DE CORTE - POR DEFECTO ES LA FECHA ACTUAL */ AND (t.MovementDate > $P{FechaCorte}) AND (t.M_Locator_ID=l.M_Locator_ID) AND (l.M_Locator_ID IN (SELECT loc.M_Locator_ID FROM M_Locator loc INNER JOIN M_Warehouse wa ON (loc.M_Warehouse_ID = wa.M_Warehouse_ID) WHERE (wa.OwnStock = 'N') AND (wa.StockAvailableForSale = 'Y')))),0) AS Stock,
COALESCE((SELECT SUM(QtyOnHand) - SUM(QtyReserved) FROM M_Storage s WHERE (p.M_Product_ID=s.M_Product_ID) AND (M_Locator_ID IN (SELECT M_Locator_ID FROM M_Locator loc INNER JOIN M_Warehouse wa ON (loc.M_Warehouse_ID = wa.M_Warehouse_ID) WHERE (wa.OwnStock = 'N') AND (wa.StockAvailableForSale = 'Y')))),0) AS StockDisponibleActual,
COALESCE(
(CASE 
WHEN ((SELECT priceactual FROM C_Order o INNER JOIN C_OrderLine ol ON (o.C_Order_ID = ol.C_Order_ID) INNER JOIN M_InOut i ON (o.C_Order_ID = i.C_Order_ID) INNER JOIN M_InOutLine il ON (il.M_InOut_ID = i.M_InOut_ID) WHERE (il.qtyentered > 0) AND  (i.docstatus IN ('CL', 'CO', 'VO', 'RE')) AND (i.Issotrx = 'N') AND (ol.M_Product_ID=p.M_Product_ID) AND (movementdate <= $P{FechaCorte}) ORDER BY i.created ASC LIMIT 1) IS NULL) THEN
(SELECT pp.pricestd FROM M_ProductPrice pp WHERE (pp.M_Product_ID=p.M_Product_ID) AND (pp.M_PriceList_Version_ID = (SELECT M_PriceList_Version_ID FROM M_PriceList_Version plv INNER JOIN M_PriceList pl ON plv.M_PriceList_ID = pl.M_PriceList_ID WHERE (IsSoPriceList = 'N') AND (plv.AD_Org_ID = p.AD_Org_ID) ORDER BY plv.Created DESC LIMIT 1)))
ELSE
(SELECT cost_fifo(p.m_product_id, $P{FechaCorte}) ) 
END)
,0) AS Costo_FIFO, -- Finaliza el coalesce
COALESCE(
(CASE 
WHEN ((SELECT priceactual FROM C_Order o INNER JOIN C_OrderLine ol ON (o.C_Order_ID = ol.C_Order_ID) INNER JOIN M_InOut i ON (o.C_Order_ID = i.C_Order_ID) INNER JOIN M_InOutLine il ON (il.M_InOut_ID = i.M_InOut_ID) WHERE (il.qtyentered > 0) AND (i.docstatus IN ('CL', 'CO', 'VO', 'RE')) AND (i.Issotrx = 'N') AND (ol.M_Product_ID=p.M_Product_ID) AND (movementdate <= $P{FechaCorte}) ORDER BY i.created DESC LIMIT 1) IS NULL) THEN
(SELECT pp.pricestd FROM M_ProductPrice pp WHERE (pp.M_Product_ID=p.M_Product_ID) AND (pp.M_PriceList_Version_ID = (SELECT M_PriceList_Version_ID FROM M_PriceList_Version plv INNER JOIN M_PriceList pl ON plv.M_PriceList_ID = pl.M_PriceList_ID WHERE (IsSoPriceList = 'N') AND (plv.AD_Org_ID = p.AD_Org_ID) ORDER BY plv.Created DESC LIMIT 1)))
ELSE
(SELECT currencyconvert(priceactual, o.c_currency_id, 118, o.dateacct::timestamp with time zone, NULL::integer, o.ad_client_id, o.ad_org_id) FROM C_Order o INNER JOIN C_OrderLine ol ON (o.C_Order_ID = ol.C_Order_ID) INNER JOIN M_InOut i ON (o.C_Order_ID = i.C_Order_ID) INNER JOIN M_InOutLine il ON (il.M_InOut_ID = i.M_InOut_ID) WHERE (il.qtyentered > 0) AND (i.docstatus IN ('CL', 'CO', 'VO', 'RE')) AND (i.Issotrx = 'N') AND (ol.M_Product_ID=p.M_Product_ID) /* FECHA DE CORTE - POR DEFECTO ES LA FECHA ACTUAL */ AND (movementdate <= $P{FechaCorte}) ORDER BY i.created DESC LIMIT 1)
END)
,0) AS Costo_LIFO, -- Finaliza el coalesce
COALESCE(
(CASE 
WHEN ((SELECT (CASE WHEN (SUM(il.qtyentered) > 0) THEN SUM(priceactual * il.qtyentered) / SUM(il.qtyentered) ELSE 0 END) FROM C_Order o INNER JOIN C_OrderLine ol ON (o.C_Order_ID = ol.C_Order_ID) INNER JOIN M_InOut i ON (o.C_Order_ID = i.C_Order_ID) INNER JOIN M_InOutLine il ON (il.M_InOut_ID = i.M_InOut_ID) WHERE (i.docstatus IN ('CL', 'CO', 'VO', 'RE')) AND (i.Issotrx = 'N') AND (ol.M_Product_ID=p.M_Product_ID) AND (il.qtyentered > 0) /* FILTRO FECHA DE CORTE */ AND (movementdate <= $P{FechaCorte})) = 0) THEN
(SELECT pp.pricestd FROM M_ProductPrice pp WHERE (pp.M_Product_ID=p.M_Product_ID) AND (pp.M_PriceList_Version_ID = (SELECT M_PriceList_Version_ID FROM M_PriceList_Version plv INNER JOIN M_PriceList pl ON plv.M_PriceList_ID = pl.M_PriceList_ID WHERE (IsSoPriceList = 'N') AND (plv.AD_Org_ID = p.AD_Org_ID) ORDER BY plv.Created DESC LIMIT 1)))
ELSE
(SELECT (CASE WHEN (SUM(il.qtyentered * CASE WHEN i.issotrx = 'N' THEN 1 ELSE -1 END) > 0) THEN SUM(currencyconvert(priceactual, o.c_currency_id, 118, o.dateacct::timestamp with time zone, NULL::integer, o.ad_client_id, o.ad_org_id) * il.qtyentered * CASE WHEN i.issotrx = 'N' THEN 1 ELSE -1 END) / SUM(il.qtyentered * CASE WHEN i.issotrx = 'N' THEN 1 ELSE -1 END) ELSE 0 END) FROM C_Order o INNER JOIN C_OrderLine ol ON (o.C_Order_ID = ol.C_Order_ID) INNER JOIN M_InOut i ON (o.C_Order_ID = i.C_Order_ID) INNER JOIN M_InOutLine il ON (il.M_InOut_ID = i.M_InOut_ID) WHERE (i.docstatus IN ('CL', 'CO', 'VO', 'RE')) AND (i.Issotrx IN ('Y', 'N')) AND (ol.M_Product_ID=p.M_Product_ID) AND (il.qtyentered > 0) /* FILTRO FECHA DE CORTE */ AND (movementdate <= $P{FechaCorte}))
END)
,0) AS Costo_PP, -- Finaliza el coalesce
bp.value AS Proveedor,
(select t.rate from libertya.c_tax t, libertya.c_taxcategory tc where t.isactive = 'Y' and t.c_taxcategory_id = tc.c_taxcategory_id and p.ad_client_id = t.ad_client_id and p.c_taxcategory_id = tc.c_taxcategory_id ORDER BY t.created DESC LIMIT 1) as IVA
FROM M_Product p
LEFT JOIN M_Product_Category pc ON (p.M_Product_Category_ID = pc.M_Product_Category_ID) -- SUBFAMILIA
LEFT JOIN M_Product_Gamas pg ON (pg.M_Product_Gamas_ID = pc.M_Product_Gamas_ID) -- FAMILIA
LEFT JOIN M_Product_Lines pl ON (pl.M_Product_Lines_ID = pg.M_Product_Lines_ID) -- LINEA DE PRODUCTO
LEFT JOIN M_Product_Family pf ON (pf.M_Product_Family_ID = p.M_Product_Family_ID) -- MARCA
LEFT JOIN AD_Client a ON (a.AD_Client_ID = p.AD_Client_ID)
LEFT JOIN AD_Org o ON (o.AD_Org_ID = p.AD_Org_ID)
LEFT JOIN M_Product_PO po ON (po.M_Product_ID = p.M_Product_ID)
LEFT JOIN C_BPartner bp ON (bp.C_BPartner_ID = po.C_BPartner_ID)
-- FILTROS DE LA CONSULTA -- 
WHERE (($P{AD_CLIENT_ID} IS NULL) OR (p.AD_CLIENT_ID = $P{AD_CLIENT_ID})) 
AND (($P{AD_Org_ID} IS NULL) OR (p.AD_Org_ID = $P{AD_Org_ID})) 
AND (($P{M_Product_Lines_ID} IS NULL) OR (pl.M_Product_Lines_ID = $P{M_Product_Lines_ID})) -- FILTRO POR LINEA DE ARTICULO
AND (($P{M_Product_Gamas_ID} IS NULL) OR (pg.M_Product_Gamas_ID = $P{M_Product_Gamas_ID})) -- FILTRO POR FAMILIA
AND (($P{M_Product_Category_ID} IS NULL) OR (pc.M_Product_Category_ID = $P{M_Product_Category_ID})) -- FILTRO POR SUBFAMILIA
AND (($P{M_Product_Family_ID} IS NULL) OR (pf.M_Product_Family_ID = $P{M_Product_Family_ID})) -- FILTRO POR MARCA
AND (($P{M_Product_ID} IS NULL) OR (p.M_Product_ID = $P{M_Product_ID})) -- FILTRO POR ARTICULO
AND (($P{C_BPartner_ID} IS NULL) OR (po.C_BPartner_ID = $P{C_BPartner_ID})) -- FILTRO POR PROVEEDOR
) as Vista
ORDER BY Fecha ASC;]]></queryString>

	<field name="compañia" class="java.lang.String"/>
	<field name="organizacion" class="java.lang.String"/>
	<field name="clave_de_busqueda_del_articulo" class="java.lang.String"/>
	<field name="linea_de_producto" class="java.lang.String"/>
	<field name="familia" class="java.lang.String"/>
	<field name="subfamlia" class="java.lang.String"/>
	<field name="marca" class="java.lang.String"/>
	<field name="nombre_articulo" class="java.lang.String"/>
	<field name="fecha" class="java.sql.Date"/>
	<field name="stock" class="java.math.BigDecimal"/>
	<field name="stockdisponibleactual" class="java.math.BigDecimal"/>
	<field name="costo_fifo" class="java.math.BigDecimal"/>
	<field name="costo_lifo" class="java.math.BigDecimal"/>
	<field name="costo_pp" class="java.math.BigDecimal"/>
	<field name="costo_fifo_total" class="java.math.BigDecimal"/>
	<field name="costo_lifo_total" class="java.math.BigDecimal"/>
	<field name="costo_pp_total" class="java.math.BigDecimal"/>
	<field name="proveedor" class="java.lang.String"/>
	<field name="iva" class="java.math.BigDecimal"/>

		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</title>
		<pageHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="100"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="70"
						y="15"
						width="150"
						height="12"
						key="textField-3">
							<printWhenExpression><![CDATA[new Boolean($P{AD_Org_ID}.toString() != "")]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{organizacion}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="4"
						y="3"
						width="200"
						height="12"
						key="staticText-2"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true" isUnderline="false"/>
					</textElement>
				<text><![CDATA[Parámetros del Informe]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="4"
						y="15"
						width="66"
						height="12"
						key="staticText-4"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<text><![CDATA[Organización =]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="4"
						y="27"
						width="66"
						height="12"
						key="staticText-7"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<text><![CDATA[Fecha Corte =]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" pattern="dd/MM/yyyy" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="70"
						y="27"
						width="150"
						height="12"
						key="textField-5">
							<printWhenExpression><![CDATA[new Boolean($P{FechaCorte} != null)]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.util.Date"><![CDATA[$P{FechaCorte}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="220"
						y="39"
						width="50"
						height="12"
						key="staticText-8"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<text><![CDATA[Familia =]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="270"
						y="39"
						width="150"
						height="12"
						key="textField-6">
							<printWhenExpression><![CDATA[new Boolean($P{M_Product_Gamas_ID}.toString() != "")]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{familia}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="0"
						y="90"
						width="75"
						height="10"
						key="staticText-12"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Clave Búsq. Artículo]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="134"
						y="90"
						width="65"
						height="10"
						key="staticText-13"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Familia
]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="199"
						y="90"
						width="65"
						height="10"
						key="staticText-14"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Subfamilia]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="264"
						y="90"
						width="54"
						height="10"
						key="staticText-15"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Marca]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="318"
						y="90"
						width="181"
						height="10"
						key="staticText-16"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Nombre Artículo]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="499"
						y="90"
						width="59"
						height="10"
						key="staticText-17"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Fecha]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="643"
						y="90"
						width="52"
						height="10"
						key="staticText-18"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Costo]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="4"
						y="39"
						width="66"
						height="12"
						key="staticText-57"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<text><![CDATA[Línea Artículo =]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="70"
						y="39"
						width="150"
						height="12"
						key="textField-77">
							<printWhenExpression><![CDATA[new Boolean($P{M_Product_Lines_ID}.toString() != "")]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{linea_de_producto}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="4"
						y="51"
						width="66"
						height="12"
						key="staticText-58"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<text><![CDATA[Subfamilia =]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="70"
						y="51"
						width="150"
						height="12"
						key="textField-78">
							<printWhenExpression><![CDATA[new Boolean($P{M_Product_Category_ID}.toString() != "")]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{subfamlia}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="75"
						y="90"
						width="59"
						height="10"
						key="staticText-59"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Línea de Art.]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="695"
						y="90"
						width="52"
						height="10"
						key="staticText-60"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Costo Total]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="558"
						y="90"
						width="39"
						height="10"
						key="staticText-61">
							<printWhenExpression><![CDATA[new Boolean((new SimpleDateFormat("dd/MM/yyyy").format($P{FechaCorte})).compareTo(new SimpleDateFormat("dd/MM/yyyy").format(Calendar.getInstance().getTime())) == 0)]]></printWhenExpression>
						</reportElement>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Stock]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="220"
						y="51"
						width="50"
						height="12"
						key="staticText-62"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<text><![CDATA[Marca =]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="270"
						y="51"
						width="150"
						height="12"
						key="textField-82">
							<printWhenExpression><![CDATA[new Boolean($P{M_Product_Family_ID}.toString() != "")]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{marca}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="4"
						y="63"
						width="66"
						height="12"
						key="staticText-63"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<text><![CDATA[Artículo =]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="70"
						y="63"
						width="150"
						height="12"
						key="textField-83">
							<printWhenExpression><![CDATA[new Boolean($P{M_Product_ID}.toString() != "")]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{clave_de_busqueda_del_articulo}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="220"
						y="63"
						width="50"
						height="12"
						key="staticText-64"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<text><![CDATA[Proveedor =]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="270"
						y="63"
						width="150"
						height="12"
						key="textField-84">
							<printWhenExpression><![CDATA[new Boolean($P{C_BPartner_ID}.toString() != "")]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{proveedor}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="4"
						y="75"
						width="66"
						height="12"
						key="staticText-65"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<text><![CDATA[Tipo de Costo =]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="70"
						y="75"
						width="150"
						height="12"
						key="textField-85">
							<printWhenExpression><![CDATA[new Boolean($P{FechaCorte} != null)]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($P{TipoDeCosto}.compareTo( "F" ) == 0  ? "Costo FIFO" : ( $P{TipoDeCosto}.compareTo( "P" ) == 0 ? "Costo PP" : "Ultimo Costo" ))]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="747"
						y="90"
						width="35"
						height="10"
						key="staticText-66"/>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="Thin" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Iva]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="597"
						y="90"
						width="46"
						height="10"
						key="staticText-67">
							<printWhenExpression><![CDATA[new Boolean((new SimpleDateFormat("dd/MM/yyyy").format($P{FechaCorte})).compareTo(new SimpleDateFormat("dd/MM/yyyy").format(Calendar.getInstance().getTime())) == 0)]]></printWhenExpression>
						</reportElement>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Stock Disp.]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="558"
						y="90"
						width="85"
						height="10"
						key="staticText-68">
							<printWhenExpression><![CDATA[new Boolean((new SimpleDateFormat("dd/MM/yyyy").format($P{FechaCorte})).compareTo(new SimpleDateFormat("dd/MM/yyyy").format(Calendar.getInstance().getTime())) != 0)]]></printWhenExpression>
						</reportElement>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Stock]]></text>
				</staticText>
			</band>
		</columnHeader>
		<detail>
			<band height="10"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="75"
						height="10"
						key="textField-7"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{clave_de_busqueda_del_articulo}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="134"
						y="0"
						width="65"
						height="10"
						key="textField-8"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{familia}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="199"
						y="0"
						width="65"
						height="10"
						key="textField-9"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{subfamlia}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="264"
						y="0"
						width="54"
						height="10"
						key="textField-10"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{marca}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="318"
						y="0"
						width="181"
						height="10"
						key="textField-11"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{nombre_articulo}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="dd/MM/yyyy" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="499"
						y="0"
						width="59"
						height="10"
						key="textField-12"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.util.Date"><![CDATA[$F{fecha}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="643"
						y="0"
						width="52"
						height="10"
						key="textField-13"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[($P{TipoDeCosto}.compareTo( "F" ) == 0  ? $F{costo_fifo} : ( $P{TipoDeCosto}.compareTo( "P" ) == 0 ? $F{costo_pp} :  $F{costo_lifo} ))]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="75"
						y="0"
						width="59"
						height="10"
						key="textField-79"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{linea_de_producto}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="695"
						y="0"
						width="52"
						height="10"
						key="textField-80"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[($P{TipoDeCosto}.compareTo( "F" ) == 0  ? $F{costo_fifo_total} : ( $P{TipoDeCosto}.compareTo( "P" ) == 0 ? $F{costo_pp_total} :  $F{costo_lifo_total} ))]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="558"
						y="0"
						width="39"
						height="10"
						key="textField-81">
							<printWhenExpression><![CDATA[new Boolean((new SimpleDateFormat("dd/MM/yyyy").format($P{FechaCorte})).compareTo(new SimpleDateFormat("dd/MM/yyyy").format(Calendar.getInstance().getTime())) == 0)]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{stock}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.00" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="747"
						y="0"
						width="35"
						height="10"
						key="textField-87"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="Thin" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{iva}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="597"
						y="0"
						width="46"
						height="10"
						key="textField-88">
							<printWhenExpression><![CDATA[new Boolean((new SimpleDateFormat("dd/MM/yyyy").format($P{FechaCorte})).compareTo(new SimpleDateFormat("dd/MM/yyyy").format(Calendar.getInstance().getTime())) == 0)]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{stockdisponibleactual}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="558"
						y="0"
						width="85"
						height="10"
						key="textField-89">
							<printWhenExpression><![CDATA[new Boolean((new SimpleDateFormat("dd/MM/yyyy").format($P{FechaCorte})).compareTo(new SimpleDateFormat("dd/MM/yyyy").format(Calendar.getInstance().getTime())) != 0)]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font size="6"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{stock}]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="20"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" pattern="###0" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="45"
						y="10"
						width="25"
						height="10"
						key="textField-76"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Left">
						<font size="5"/>
					</textElement>
				<textFieldExpression   class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="0"
						y="10"
						width="45"
						height="10"
						key="staticText-56"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Top">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Nro. Página:]]></text>
				</staticText>
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</summary>
</jasperReport>
